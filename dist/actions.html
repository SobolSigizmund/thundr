<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" lang="en-us"/>
	<meta http-equiv="X-UA-Compatible" content="chrome=1"/><!-- Use Chrome Frame if installed -->
	<!--[if lt IE 9]> <script src="/thundr/javascript/lib/html5shiv.js"></script> <![endif]--><!-- Enable HTML5 in IE8 and below -->
	<title>thundr - Actions</title>
	<link rel="shortcut icon" href="./favicon.ico" />
	<meta name="description" content=""/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Allows website to respond to natural agent size -->
	<meta name="keywords" content=""/>
	
	<meta name="google-site-verification" content="V7Os0LLLfRti7XGzTPnlO_FfsjrL6Ldi3IKeq0tVGaY" />
	
	<!--
	<t:style src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css"/>
	<t:style src="/thundr/styles/lib/bootstrap/bootstrap.css"/>
	-->
	<link rel="stylesheet" href="styles/lib/bootstrap/1a11dd2d.bootstrap.css"></link>
	<link rel="stylesheet" href="styles/0cdd21e5.main.css"></link>
	<link rel="stylesheet" href="styles/lib/font/4712f287.font-awesome.css"></link>
	<!--[if IE 7]>
	<link rel="stylesheet" href="/thundr/styles/lib/font/font-awesome-ie7.css">
	<![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<!--
	<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
	-->
	<script src="scripts/vendor/bootstrap/41e29a31.bootstrap.min.js"></script>
	<script src="scripts/vendor/bootstrap/d0829daa.bootstrap-dropdown.js"></script>
	<script src="scripts/vendor/bootstrap/be7d85b6.bootstrap-collapse.js"></script>
	<script>
	$(document).ready(function () {
		// If we cross link pages to a collapsed accordian, open the entry of interest.
		// We'll also open any collapsed accordian section within the same page
		location.hash && $(location.hash + '.collapse').collapse('show');
		$(window).bind('hashchange', function() {
			location.hash && $(location.hash + '.collapse').collapse('show');
		});
		$('.dropdown-toggle').dropdown();
		$(".collapse").collapse();
	});
	</script>
</head>
<body>
	 <header class="container">
		<nav class="navbar">
			<div class="navbar-inner">
				<a class="brand" href="/"><img src="images/79eca7d9.logoFullSmall.png"/></a>
				<ul class="nav" role="navigation">
					
						
					
						
						
						<li class=" ">

						
							<a href="/./index.html">
								
									Overview
								
							</a>
						

						</li>
						
					
						
						
						<li class="dropdown ">

						
							<a href="/./basics.html" class="dropdown-toggle" data-toggle="dropdown">
								
									Basics
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								<li><a href="/./basics.html">Overview</a></li>
								<li class="divider"></li>
								
								
								
								

								<li><a href="/basics.html#basicExample">
									Basic Example
									
								</a></li>
								
								
								
								

								<li><a href="/basics.html#applicationConfiguration">
									Configuration
									
								</a></li>
								
								
								
								

								<li><a href="/basics.html#webXml">
									web.xml
									
								</a></li>
								
								
								
								

								<li><a href="/basics.html#modulesProperties">
									modules.properties
									
								</a></li>
								
								
								
								

								<li><a href="/basics.html#injectionConfiguration">
									InjectionConfiguration
									
								</a></li>
								
								
								
								

								<li><a href="/basics.html#applicationProperties">
									application.properties
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
						
						
						<li class="dropdown ">

						
							<a href="/./controllers.html" class="dropdown-toggle" data-toggle="dropdown">
								
									Controllers
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								<li><a href="/./controllers.html">Overview</a></li>
								<li class="divider"></li>
								
								
								
								

								<li><a href="/controllers.html#controllers">
									Controllers
									
								</a></li>
								
								
								
								

								<li><a href="/controllers.html#views">
									Views
									
								</a></li>
								
								
								
								

								<li><a href="/controllers.html#dataBinding">
									Data binding
									
								</a></li>
								
								
								
								

								<li><a href="/controllers.html#separationOfConcerns">
									Seperation of concerns
									
								</a></li>
								
								
								
								

								<li><a href="/controllers.html#injection">
									Injection
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
						
						
						<li class="dropdown ">

						
							<a href="/./views.html" class="dropdown-toggle" data-toggle="dropdown">
								
									Views
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								<li><a href="/./views.html">Overview</a></li>
								<li class="divider"></li>
								
								
								
								

								<li><a href="/views.html#views">
									Views
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#jspView">
									Jsp view
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#redirectView">
									Redirect View
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#jsonView">
									Json View
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#stringView">
									String View
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#httpStatusException">
									HttpStatusException
									
								</a></li>
								
								
								
								

								<li><a href="/views.html#viewResolver">
									ViewResolver
									
									<span class="label label-info">Advanced</span>
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
						
						
						<li class="dropdown active">

						
							<a href="/./actions.html" class="dropdown-toggle" data-toggle="dropdown">
								
									Actions
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								
								
								

								<li><a href="/actions.html#routes">
									Routes
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#actions">
									Actions
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#methodAction">
									MethodAction
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#staticResourceAction">
									StaticResourceAction
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#redirectAction">
									RedirectAction
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#rewriteAction">
									RewriteAction
									
								</a></li>
								
								
								
								

								<li><a href="/actions.html#actionResolver">
									ActionResolver
									
									<span class="label label-info">Advanced</span>
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
						
						
						<li class="dropdown ">

						
							<a href="/./injection-context.html" class="dropdown-toggle" data-toggle="dropdown">
								
									Dependancy injection
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								<li><a href="/./injection-context.html">Overview</a></li>
								<li class="divider"></li>
								
								
								
								

								<li><a href="/injection-context.html#injectionContext">
									InjectionContext
									
								</a></li>
								
								
								
								

								<li><a href="/injection-context.html#injectionTypes">
									Injection by type
									
								</a></li>
								
								
								
								

								<li><a href="/injection-context.html#namedTypes">
									Injection by named type
									
								</a></li>
								
								
								
								

								<li><a href="/injection-context.html#instantiation">
									Instantiation
									
								</a></li>
								
								
								
								

								<li><a href="/injection-context.html#properties">
									Properties
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
						
						
						<li class="dropdown ">

						
							<a href="/./appengine.html" class="dropdown-toggle" data-toggle="dropdown">
								
									GAE
								 <b class="caret"></b>
							</a>

							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

								
								<li><a href="/./appengine.html">Overview</a></li>
								<li class="divider"></li>
								
								
								
								

								<li><a href="/appengine.html#settingUp">
									Setting Up
									
								</a></li>
								
								
								
								

								<li><a href="/appengine.html#moduleFeatures">
									Module Features
									
								</a></li>
								
								
								

							</ul>

						

						</li>
						
					
				</ul>
			</div>
		</nav>
	</header>

	<article id="" class="container">
	<div class="page-header">
	<h1>thundr <small>Actions</small></h1>
</div>

<section class="overview">
	
</section>

 

<section id="routes">
	<h2>Routes</h2>
<p>Incoming web requests are handled by thundr using <em>routes</em>.

</p>
<p>A route is a url wildcard pattern which maps to an <em>action</em>. Each route is of a http request type - <em>GET</em>, <em>PUT</em>, <em>POST</em> or <em>DELETE</em>. 

</p>
<p>By default routes are loaded from the resource file <code>routes.json</code>. Within this file, routes are defined as a json structure.

</p>
<pre><code class="lang-json">{
    "<span class="attribute">/</span>"         : <span class="value"><span class="string">"au.com.threewks.thundrweb.Controller.home"</span></span>,
    "<span class="attribute">/form/</span>"     : <span class="value">{
        "<span class="attribute">GET</span>"     : <span class="value"><span class="string">"au.com.threewks.thundrweb.Controller.getForm"</span></span>,
        "<span class="attribute">POST</span>"     : <span class="value"><span class="string">"au.com.threewks.thundrweb.Controller.postForm"</span>
    }</span></span>,
    "<span class="attribute">/view/{id}</span>"    : <span class="value"><span class="string">"au.com.threewks.thundrweb.Controller.view"</span>
}</span></code></pre>
<p>Routes can map to different types of actions. The most common action is <code>MethodAction</code>, which will result in a method being invoked on a <a href="./controllers.html">controller</a>. 

</p>
<p>In the above example, requests to the base url &#39;/&#39; will be processed by the <em>home</em> method defined in the <em>Controller</em> class.<br>GET Requests on &#39;/form/&#39; will be processed by <em>getForm()</em> and POSTs will be processed by <em>postForm()</em>.<br>Finally, requests matching the path <code>/view/*</code> will be processed by the method with the name <em>view</em>, with the addition that the value matching the wildcard can be passed as a parameter with the name &#39;id&#39;, permitting <em>view(String id)</em>.            </p>

</section>



<section id="actions">
	<h4><code>Actions</code></h4>
<p>Each route maps to a single <code>Action</code>. Actions determine how your application handles a web request. In general, an action will usually result in some code being invoked, but other types of actions exist.

</p>
<p>Currently thundr supports the following actions out of the box:</p>

</section>



<section id="methodAction">
	<h4>MethodAction</h4>
<p>This type of action results in a method being invoked on a class.<br>Classes invoked like this are referred to as <em>controllers</em>, however this is a semantic distinction - any class can be used as a controller.<br>You can read more about controllers <a href="./controllers.html">here</a>.

</p>
<p>For example, the route

</p>
<pre><code class="lang-java">…
<span class="string">"/route/{variable}"</span>: <span class="string">"com.threewks.thundr.Controller.actionMethod"</span>
…</code></pre>
<p>will invoke the method

</p>
<pre><code class="lang-java"><span class="keyword">package</span> com.threewks.thundr;
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> {</span>
    <span class="keyword">public</span> StringView actionMethod(String variable){
        doSomething();
        <span class="keyword">return</span> <span class="keyword">new</span> StringView(<span class="string">"Ok!"</span>);
    }
…</code></pre>

</section>



<section id="staticResourceAction">
	<h4>StaticResourceAction</h4>
<p>This type of action results in a resource being served directly. This is useful when serving javascript, css, text files or other resources which don&#39;t require any processing by your application.

</p>
<p>The routes below result in the favicon and all files under the folder &#39;static&#39; being server as static resources. 

</p>
<pre><code class="lang-java">…
<span class="string">"/favicon.ico"</span>: <span class="string">"static"</span>,
<span class="string">"/static/**"</span>: <span class="string">"static"</span>,
…</code></pre>

</section>



<section id="redirectAction">
	<h4>RedirectAction</h4>
<p>This type of action results in a HTTP redirect being sent to the web request client (i.e. the user&#39;s browser). This will result in the browser requesting the resource specified in the redirect route.<br>The redirect is a <em>temporary redirect</em>, or 302.

</p>
<pre><code class="lang-java">…
<span class="string">"/old"</span>: <span class="string">"redirect:/new"</span>,
…</code></pre>

</section>



<section id="rewriteAction">
	<h4>RewriteAction <span class="label label-warning">Verify</span></h4>
<p>This type of action is used to cause another route to handle the request. It is similar in concept to the rewrite rules in an Apache config, but could also be considered to act as an alias.

</p>
<p>In the below example, the rewrite rule will cause the rewritten route to be invoked as though the request client invoked it directly, but unlike a redirect will be served with the url it was requested on.

</p>
<pre><code class="lang-java">…
<span class="string">"/requestedPath"</span>    : <span class="string">"rewrite:/rewritten"</span>,
<span class="string">"/rewritten"</span>        : <span class="string">"com.threewks.thundr.Controller.method"</span>
…</code></pre>

</section>



<section id="actionResolver">
	<h4><code>ActionResolver</code> <span class="label label-info">Advanced</span></h4>
<p>Each type of action is handled by an <code>ActionResolver</code>. ActionResolvers process an Action when a route is requested. You can create and configure custom Action and ActionResolvers to handle routes, although in general this is not necessary. 

</p>
<p>An action resolver has two responsibilities:

</p>
<ul>
<li>creating an <code>Action</code> for a route if it can process that route, and</li>
<li>resolving an action it created when a route is requested by an http client</li>
</ul>
<p>Action resolution usually involves binding data based on route configuration and request parameters, and serving up response content and http response codes. This is done using the standard Java Servlet interfaces, <code>HttpServletRequest</code> and <code>HttpServletResponse</code>.

</p>
<p>If you wish to register a custom Action and ActionResolver, you can invoke the method

</p>
<pre><code class="lang-java">Routes.addActionResolver(Class&lt;A&gt; actionType, ActionResolver&lt;A&gt; actionResolver);</code></pre>
<p>This needs to be done before the routes are loaded. The <code>Routes</code> object is available in the <code>InjectionConfiguration</code> during startup.
</p>

</section>

 
	</article>
	
	<footer class="container">
		<div class="navbar">
			<div class="navbar-inner">
				<span class="navbar-text pull-right">
					Brought to you by <a href="http://www.3wks.com.au" title="3wks"><img class="threewksLogo" src="http://3wks.com.au/images/3wks_logo_2.png"/></a>
				</span>
				<span class="navbar-text">
					<a href="mailto:nick@3wks.com.au?Subject=thundr">
						<i class="icon icon-envelope-alt"></i> 
						Get in touch
					</a>
				</span>
				<span class="navbar-text">
					<a href="https://groups.google.com/forum/?fromgroups#!forum/thundr-framework">
						<i class="icon icon-group"></i> 
						Join us on Google Groups 
					</a>
				</span>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-37139757-1']);
	  _gaq.push(['_trackPageview']);
	
	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</body>
</html>
		