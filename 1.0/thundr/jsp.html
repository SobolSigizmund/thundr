---
layout: 1.0/base
versionUrl: /1.0
title: Jsps
description: Using jsps in thundr
---

<div class="row">
	<aside class="module_nav_container col-md-3">
		<div class="module_nav">
			<ul class="nav nav-pills nav-stacked" role="navigation">
				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/basics.html">
						Basics
					</a>
				</li>

				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/controllers.html">
						Controllers
					</a>
				</li>

				<li class="nav-header">
					<a href="{{ site.url }}/1.0/thundr/views.html">
						Views
					</a>
				</li>

				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/actions.html">
						Routes and Actions
					</a>
				</li>

				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/modules.html">
						Modules
					</a>
				</li>

				<li class="nav-header active">
					<a href="{{ site.url }}/1.0/thundr/jsp.html">						
						Jsp						
					</a>
				</li>
				
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#ifelse" data-target="#ifelse">
						If/Else
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#set" data-target="#set">
						Set
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#script" data-target="#script">
						Script
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#style" data-target="#style">
						Style
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#route" data-target="#route">
						Route
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#path" data-target="#path">
						Path
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#param" data-target="#param">
						Param
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.0/thundr/jsp.html#stringTransformations" data-target="#stringTransformations">
						String Transformations
					</a>
				</li>
				
	
				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/email.html">
						Email
					</a>
				</li>
				
				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/utilities.html">
						Utilities
					</a>
				</li>		
				<li class="nav-header ">
					<a href="{{ site.url }}/1.0/thundr/glossary.html">
						Glossary
					</a>
				</li>
			</ul>
		</div>
	</aside>

	<article id="views" class="col-md-9">
		<div class="page-header">
			<h1>thundr <small>Jsps</small></h1>
		</div>

		<section id="page-overview" class="overview">
			<p>
			thundr has good built in support for Jsps. Of all the templating languages available, Jsps are still the most fully features
			and flexible. However, out of the box jsps and the basic jstl libraries can be a little bare.
			</p>
			<p>
				Following is the list of tags and expressions that thundr comes with built into its taglib. 
				They'll save you a bit of typing, and a lot of confusion.
			</p>
			<p>
				You can check out t.tld for the full definition of included tags files.
			</p>
		</section>

		<section id="ifelse">
			<h4>If/Else</h4>

			<p>
				thundr comes with it's own if/elseif/else tags. No more choose/when/otherwise!
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<t:if condition="${user != null}">
		${user.name}
	</t:if>
	<t:elseif condition="${userCookie != null">
		${userCookie}
	</t:elseif>
	<t:else>
		Mr. Anonymous
	</t:else>
...
{% endhighlight %}
		</section>
		<section id="set">
			<h4>Set</h4>
			<p>
				There are many scenarios under which you want to conditionally set a value in a jsp. The standard c:set can make this quite verbose.
			</p>
			<p>
				The thundr t:set tag has multiple modes:
			</p>
			<ul>
				<li>can be used just to set a var - <code>&lt;t:set var="name" value="${some.value}"/&gt;</code>,</li>
				<li>can be used to set a var only when a condition is true - <code>&lt;t:set var="name" value="${some.value}" condition="${some != null}"/&gt;</code>,</li>
				<li>can be used to set a var to a value when a condition is true, and an alternative when false - <code>&lt;t:set var="name" value="${some.value}" condition="${some != null"} falseValue="Default"/&gt;</code>,</li>
				<li>can be used to output the result of a conditional test to either the value, or falseValue - <code>&lt;t:set condition="${some != null"}  value="${some.value}" falseValue="Default"/&gt;</code>,</li>
			</ul>
		</section>
		<section id="script">
			<h4>Script</h4>
			<p>
				&lt;:script/&gt; is used to include a script into a html page.
			</p>
			<p>
				If the provided script does not start with a / or a protocal (http or https), it will assume the script is
				contained in /static/javascript/ and prepend that automatically.
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<%-- Loads /static/javascript/my/javascript.js --%>
	<t:script src="my/javascript.js"/>
	
	<%-- Loads /static/lib/library.js --%>
	<t:script src="/static/lib/library.js"/>
	
	<%-- Loads http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js --%>
	<t:script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"/>
...
{% endhighlight %}
			<blockquote>
				There is a second parameter called suppressVersion, which defaults to false. If not set to true, the current application version
				is appended as a query parameter. This mechanism means that scripts loaded with the script tag will
				automatically be pulled in by clients when you deploy a new version of your app. <code>applicationVersion</code> is
				a property you can put into the <a href="/views.html#globalModel">GlobalModel</a> if you platform does not
				provide it for you.
			</blockquote>
		</section>
		<section id="style">
			<h4>Style</h4>
			<p>
				&lt;:style/&gt; is used to include a stylesheet into a html page.
			</p>
			<p>
				If the provided style does not start with a / or a protocal (http or https), it will assume the style is
				contained in /static/styles/ and prepend that automatically.
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<%-- Loads /static/styles/my/javascript.css --%>
	<t:style src="my/javascript.css"/>
	
	<%-- Loads /static/lib/library.css --%>
	<t:script src="/static/lib/library.css"/>
	
	<%-- Loads http://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.4.1/bootstrap-select.min.css --%>
	<t:script src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.4.1/bootstrap-select.min.css"/>
...
{% endhighlight %}
			<blockquote>
				There is a second parameter called suppressVersion, which defaults to false. If not set to true, the current application version
				is appended as a query parameter. This mechanism means that styles loaded with the style tag will
				automatically be pulled in by clients when you deploy a new version of your app. <code>applicationVersion</code> is
				a property you can put into the <a href="/views.html#globalModel">GlobalModel</a> if you platform does not
				provide it for you.
			</blockquote>
		</section>
		<section id="route">
			<h4>Route</h4>
			<p>
				&lt;:route/&gt; is used to generate a url for the named route
			</p>
			<p>
				To help make urls more robust and tolerant to refactoring, when you register a route you can give it a name.
			</p>
			<p>
				When you want to put a link, form action etc to a route in your application, rather than hardcoding the url, you 
				can just include the route name and parameter values and let thundr sort it out.
			</p>
			<p>
				Later, if the url for the route changes, no change will need to be made in your jsp. 
			</p>							
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<a href='<t:route name="myRoute" pathVar="${pathVar}"/>'>Linky</a>
	
	<form action='<t:route name="myUpdateRoute" pathVar="${pathVar}"/>' method="POST">
		<button type="submit">Go</button>
	</form>
...
{% endhighlight %}
		</section>
		<section id="path">
			<h4>Path</h4>
			<p>
				<code>${t:path()}</code> is used to encode the given value for use as a path component in a url
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<a href='/user/${t:path(user.name)}/view/'>View User</a>
...
{% endhighlight %}
			<blockquote>
				If you find yourself building a URL like this, consider whether a <code>&lt;t:route/&gt;</code> is a better choice.
			</blockquote>
		</section>
		<section id="param">
			<h4>Param</h4>
			<p>
				<code>${t:param()}</code> is used to encode the given value for use as a query parameter
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<a href='/user/${userId}/?message=${t:param(message)}'>View User</a>
...
{% endhighlight %}
		</section>
		<section id="stringTransformations">
			<h4>String transformations</h4>
			<ul>
				<li>
					<code>${t:uppercase()}</code> is used to transform the value to all uppercase
				</li>
				<li>
					<code>${t:lowercase()}</code> is used to transform the value to all lowercase
				</li>
				<li>
					<code>${t:sentencecase()}</code> is used to transform the value to sentence case
				</li>
				<li>
					<code>${t:captitalise()}</code> is used to capitalise each word
				</li>
				<li>
					<code>${t:replace()}</code> is used to perform a regex search and replace
				</li>
			</ul>
			</p>
{% highlight jsp %}
...
<%@ taglib prefix="t" uri="http://threewks.com/thundr/tags"%>
...
	<c:out value="${t:uppercase(value)}"/>
	<c:out value="${t:lowercase(value)}"/>
	<c:out value="${t:sentencecase(value)}"/>
	<c:out value="${t:capitalise(value)}"/>
	<c:out value="${t:replace(user.name, '\\s*\\(.*\\)\\s*', '$1')}"/>
...
{% endhighlight %}
		</section>
		<hr/>
		<section>
			Read about thundr support for <a href="email.html">email</a>
		</section>
	</article>
</div>
		