---
layout: 1.1/base
title: thundr-pegdown
description: thundr-pegdown is a thundr module for rendering markdown using the pegdown library 
---

<div class="row">
	<aside class="module_nav_container col-md-3">
		<div class="module_nav">
			<ul class="nav nav-pills nav-stacked" role="navigation">
				<li class="nav-header active">
					<a href="{{ site.url }}/1.1/thundr-pegdown/index.html">
						thundr-pegdown
					</a>
				</li>

				<li><a href="{{ site.url }}/1.1/thundr-pegdown/index.html#page-overview" data-target="#page-overview">Overview</a></li>
				
				<li class="divider"></li>

				<li>
					<a href="{{ site.url }}/1.1/thundr-pegdown/index.html#settingUp" data-target="#settingUp">
						Setting Up
					</a>
				</li>

				<li>
					<a href="{{ site.url }}/1.1/thundr-pegdown/index.html#pegdownView" data-target="#pegdownView">
						PegdownView
					</a>
				</li>
				<li>
					<a href="{{ site.url }}/1.1/thundr-pegdown/index.html#customisation" data-target="#customisation">
						Customisation
					</a>
				</li>
			</ul>			
		</div>
	</aside>

	<article id="index" class="col-md-9">
		<div class="page-header">
			<h1>thundr <small>with Pegdown</small></h1>
		</div>

		<section id="page-overview" class="overview">
			<h2>Overview</h2>

			<p>
				Pegdown is a java library for rendering <a href="https://daringfireball.net/projects/markdown/">markdown</a> to html.
			</p>
			<p>				
				You can read about Pegdown in general <a href="https://github.com/sirthias/pegdown">here</a>.
			</p>

			<p>
				thundr-pegdown provides the <code>PegdownView</code> and <code>PegdownViewResolver</code> implementations 
				that allow you to output html from pegdown content with thundr.
			</p>
			<p>
				<a href="https://github.com/3wks/thundr-pegdown">Source on github</a> <i class="fa fa-large fa-github"></i>
			</p>
		</section>
				
		<section id="settingUp">
			<h4>Setting Up</h4>

			<p>
				Including the thundr-pegdown module will automatically register the PegdownViewResovler.
			</p>

			<p>
				This is accomplished by adding the <em>thundr-pegdown</em> library to your project (or adding the 
				dependency to your maven or similar config). You then need to add a dependency on the <code>PegdownModule</code>
				in your <code>ApplicationModule</code>. 
			</p>

			<p>
				pom.xml - <a target="_blank" href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.threewks.thundr%22%20AND%20a%3A%22thundr-pegdown%22">Click here to find the latest version</a>
			</p>
{% highlight xml %}
...
<dependency>
    <groupId>com.threewks.thundr</groupId>
    <artifactId>thundr-pegdown</artifactId>
    <version>1.1.0</version>
    <scope>compile</scope>
</dependency>
...
{% endhighlight %}

			<p>Your <code>ApplicationModule</code></p>

{% highlight java %}
...
	@Override
	public void requires(DependencyRegistry dependencyRegistry) {
		super.requires(dependencyRegistry);
		dependencyRegistry.addDependency(PegdownModule.class);
	}
...
{% endhighlight %}
		</section>
			
		<section id="pegdownView">
			<h3>PegdownView</h3>

			<p>
				Once you have included the module, you can return a PegdownView from any controller 
				method (or provide it for <a href="{{ site.url }}/1.1/thundr/email.html">emails</a>) like the following example:
			</p>

{% highlight java %}
...
public PegdownView view(String id) {
  String markdown = repository.getMarkdown(id);
  return new PegdownView(markdown);
}
...
{% endhighlight %}
			<p>
				<code>PegdownView</code> extends <a href="{{ site.url }}/1.1/thundr/views.html#baseView">BaseView</a>, so
				you can set headers, cookies, status code etc on it.
			</p>
			<p>
				Pegdown is not a templating language, it simply converts one text representation (markdown) to another (html).
			</p>
			<p>
				As such, you do not provide a model (and the global model has no effect), and no variable substitution occurs.
			</p>
		</section>
		<section id="customisation">
			<h3>Customisation</h3>
			<p>
				If you want to customise the configuration of the <code>PegdownViewResolver</code>, you can create and 
				<a href="{{ site.url }}/1.1/thundr/views.html#viewResolver">register it yourself</a>,
				and take advantage of the constructor that allows you to provide a <code>PegDownProcessor</code>.
			</p>
{% highlight java %}
...
@Override
public void configure(UpdatableInjectionContext injectionContext) {
  super.configure(injectionContext);
  PegDownProcessor pegdownProcessor = myPegdownProcessor();
  ViewResolverRegistry viewResolverRegistry = injectionContext.get(ViewResolverRegistry.class);
  viewResolverRegistry.addResolver(PegdownView.class, new PegdownViewResolver(pegdownProcessor));
}
...
{% endhighlight %}
		</section>
	</article>
</div>
		